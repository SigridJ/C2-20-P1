\chapter{Grafteori}
\usetikzlibrary{arrows, automata}

Dette kapitel har til formål at beskrive og redegøre for forskellige grafer og de vigtigste elementer i grafteori. 

Grafer kan bruges til mange ting blandt andet kortlægning af veje i en by, kloaksystemer og forskellige kredsløb.
En simpel graf defineres formelt i definition \ref{def_simpel_graf}:


\begin{defn}
En graf $G = (V, E)$ består af $V$, et antal knuder, og E, et antal kanter, hvorom der gælder, at $V, E \neq \emptyset$
Hver kant har enten en eller to knuder, som den er forbundet til, som er dens endepunkter.
En kant siges at forbinde dens endepunkter. Denne konstruktion er en \it{simpel graf}.
\label{def_simpel_graf}
\end{defn}

\noindent En kant repræsenteres ved en linje mellem to knuder, og knuder repræsenteres ved et punkt. Har grafen enten et uendeligt antal knuder eller kanter eller begge dele er der tale om en \textit{uendelig graf}. Ellers betegnes grafen som en \textit{endelig graf}.

\begin{figure}[h]
\centering
\begin{tikzpicture}
[scale=.8,auto=left,every node/.style={circle,fill=blue!25}]
  \node (n6) at (3,2) {};
  \node (n4) at (3,6) {};
  \node (n5) at (6,2) {};
  \node (n1) at (6,6) {};
  \node (n2) at (9,2) {};
  \node (n3) at (9,6) {};
  \foreach \from/\to in {n6/n4,n4/n5,n5/n1,n1/n2,n2/n5,n2/n3,n3/n1,n1/n4}
    \draw (\from) -- (\to);
\end{tikzpicture}
\caption{Et eksempel på en simpel, endelig graf} \label{simpel_graf}
\end{figure}


\noindent I Figur \ref{simpel_graf} er skitseret en simpel graf med $6$ knuder og $8$ forbindende kanter. \\ 

\noindent Optræder der et uordnet punktpar $\lbrace u,v \rbrace$ i grafen, som forbindes af to eller flere kanter, kaldes grafen en \textit{multigraf}, og findes der et punkt i grafen, som via en kant forbindes med sig selv (en \textit{løkke}), er der tale om en \textit{pseudograf}. Et eksempel kan ses nedenfor for de to grafer.

\begin{figure}[!htb]
   \begin{minipage}{0.48\textwidth}
     \centering
     \input{fig/tikz/multigraf}
     \caption{Eksempel på en multigraf}\label{Fig:Data1}
   \end{minipage}\hfill
   \begin{minipage}{0.48\textwidth}
     \centering
     \input{fig/tikz/multigraf_loop}
     \caption{Eksempel på en pseudograf}\label{Fig:Data2}
   \end{minipage}
\end{figure}


\noindent Det kan imidlertid være nødvendigt at give kanterne retning, for at indikere, hvilken retning forbindelsen mellem to punkter har. I grafer over eksempelvis trafikale netværk, kan det være nødvendigt at indikere, i hvilken retning, trafikken kører eller at angive ensrettede strækninger. Til disse formål vil en simpel graf være utilstrækkelig idet kanterne deri netop ingen bestemt retning har. Derfor anledes Definition \ref{def_retn_graf} 
af en \textit{orienteret graf}:

\begin{defn}
En orienteret graf $G = (V, E)$ består af en mængde knuder, $V$, og en mængde \textit{orienterede} kanter, $E$, hvorom der gælder, at $V, E \neq \emptyset$.\\
En orienteret kant kan opfattes som et ordnet punktpar $(u,v), u,v \in  V$.
\label{def_retn_graf}
\end{defn} 

\noindent Definition \ref{def_retn_graf} tillader ydermere muligheden for, at et knudepar kan forbindes af indtil flere orienterede kanter. Findes dette i grafen, kaldes den en \textit{oritenteret multigraf}, og denne må også indeholde løkker. I det tilfælde, at alle knudepar kun forbindes af netop én ortienteret kant, og der ingen løkker er, er grafen en \textit{simpel orienteret graf}.

\noindent Det kan imidlertid være nødendigt at give kanterne retning for at indikere, hvilken retning forbindelsen mellem to punkter har. I grafer over eksempelvis trafikale netværk, kan det være nødvendigt at indikere i hvilken retning, trafikken kører, eller at angive ensrettede strækninger. Til disse formål vil en simpel graf være utilstrækkelig, idet kanterne deri netop ingen bestemt retning har. Derfor anledes definition \ref{def_retn_graf} 
af en \textit{retningsbestemt graf}:

\begin{defn}
En retningsbestemt graf $G = (V, E)$ består af et antal knuder, $V$, og et antal \textit{retningsbestemte} kanter, hvorom der gælder, at $V, E \neq \emptyset$.\\
En retningsbestemt kant $(u,v)$ forbinder et knudepar, så at kanten starter i $u$ og ender i $v$.
\label{def_retn_graf}
\end{defn} 

\noindent Denne definition (\ref{def_retn_graf}) tillader ydermere muligheden for, at et knudepar kan forbindes af indtil flere retningsbestemte kanter. Findes dette i grafen, kaldes den en \textit{retningsbestemt multigraf}, og denne må også indeholde løkker. I det tilfælde at alle knudepar kun forbindes af netop én retningsbestemt kant, er grafen en \textit{simpel retningsbestemt graf}.


\begin{figure}[h]
\centering
	\begin{tikzpicture}
	[scale=.8,auto=left,every node/.style={circle,fill=blue!25}]
  \node (n6) at (3,2) {};
  \node (n4) at (3,6) {};
  \node (n5) at (6,2) {};
  \node (n1) at (6,6) {};
  \node (n2) at (9,2) {};
  \node (n3) at (9,6) {};
  \foreach \from/\to in {n6/n4,n4/n5,n5/n1,n1/n2,n2/n5,n2/n3,n3/n1,n1/n4}
    \draw [->] (\from) -- (\to);
	\end{tikzpicture}
\caption{Et eksempel på en retningsbestemt graf, hvor man kan se pilene definere retningen.}
\end{figure}

\noindent Eksempelvis er der i et netværk af computere, som er forbundet til hinanden, brug for at kommunikation kan ske både frem og tilbage mellem enhederne. Derfor er et simpelt orienteret system ikke nok da det netop kræves at der kan forekomme flere interaktioner mellem forskellige computere. Til dette skal man bruge orienterede multigrafer.
=======
\noindent Et simpelt retningsbestemt system er dog ikke nok i et computernetværk, som kræver, at der kan forekomme flere interaktioner mellem forskellige computere. Til dette skal man bruge orienterede multigrafer.


\begin{figure}[h]
\centering
\begin{tikzpicture}[->,shorten >=1pt,auto,node distance=2.5cm,
                thick,main node/.style={circle,fill=blue!25}]

  \node[main node] (a) {A};
  \node[main node] (b) [below left of=a] {B};
  \node[main node] (c) [below right of=a] {C};

  \path
    (a) edge node {} (b)
        edge node {} (c)
    (b) edge [bend left=35] node {} (a)
    	    edge [bend right=35] node {} (a)
        edge [bend right=27] node {} (c)
    (c) edge [loop right] node {} (c)
        edge node [above] {} (b);
    (a) edge [bend right=30] node {} (b)
\end{tikzpicture}
\caption{Her kan man se et eksempel på en orienteret multigraf, hvor der både er adskillige kanter mellem knuderne A og B, samt er der en løkke tilstede i knudepunktet C }
\end{figure}


\noindent Nogle gange er det nødvendigt at konstruere og arbejde med computernetværker som både kan arbejde begge veje, samt ensrettet. Til dette bruger man kombineret grafer, som både indholder orienteret og ikke-orienteret kanter. Disse grafer kaldes \textit{kombinerede grafer}.
=======
\noindent Nogle gange er det nødvendigt at konstruere og arbejde med computernetværker, som både kan arbejde begge veje samt ensrettet. Til dette bruger man kombinerede grafer, som både indholder orienterede og ikke-orienterede kanter. Disse grafer kaldes kombinerede grafer.


\begin{figure}[!h]
\centering
\begin{tikzpicture}[shorten >=1pt,auto,node distance=2.5cm,
                thick,main node/.style={circle,fill=blue!25}]

  \node[main node] (a) {A};
  \node[main node] (b) [below left of=a] {B};
  \node[main node] (c) [below right of=a] {C};

    \path [->] (a) edge node {} (b);
    \path      (a) edge node {} (c);
    \path      (b) edge [bend left=35] node {} (a);
    	\path      (b) edge [bend right=35] node {} (a);
    \path [->] (b) edge [bend right=27] node {} (c);
    \path      (c) edge [loop right] node {} (c);
    \path      (c) edge node [above] {} (b);
\end{tikzpicture}
\caption{Her kan en kombineret graf ses, hvor den både indeholder orienterede og ikke-orienterede kanter, samt indeholder en løkke i knudepunktet C}
\end{figure}

\noindent For at kunne danne et større overblik over de forskellige grafer og deres defination og karakteristika , er Tabel 5.1 konstrueret.

\begin{table}[h]
\begin{tabular}{|c|c|c|c|}
\hline 
Type & Kanter & Flerdobbelte kanter tilladt & Løkker \\ 
\hline
Simpel graf & Ikke-orienteret & Nej & Nej	 \\ 

Multigraf & Ikke-orienteret & Ja & Nej \\ 

Pseudograf & Ikke-orienteret & Ja & Ja \\ 
 
Simpel orienteret graf & Orienteret & Nej & Nej \\ 
 
Orienteret multigraf & Orienteret & Ja & Ja \\ 
 
Kombineret graf & Orienteret og ikke-orienteret & Ja & Ja \\ 
\hline 
\end{tabular}
\caption{Her kan der ses et overblik over de forskellige grafer} \label{table:graf_oversigt}
\end{table}

\input{incl/main/graphs2}
\input{incl/main/weighted_graphs}
\input{incl/main/graphs3}

\section{Parring i grafer}
Nogle grafer har den egenskab, at deres knuder kan deles op i to undergrupper, således at knuder fra dan samme undergruppe ikke forbindes af kanter, men kun forbindes med knuder fra den anden undergruppe.
Dette kaldes parring i grafer.
Parring i grafer kan blandt andet bruges til at vise relationer mellem to forskellige typer objekter.
Et eksempel på dette kan være en graf, der viser hvilke studerende der tager hvilke kurser, så de studerende er i en undergruppe og kurserne i en anden. 

\begin{defn}
En simpel graf $G$ kaldes parret, hvis dens knuder kan deles op i to adskilte undergrupper $V_1$ og $V_2$, så hver kant i grafen forbinder en knude fra $v_1$ og $V_2$, men ikke to knuder fra den samme undergruppe.
Når dette gælder, kaldes parret ($V_1,V_2$) en parring af $V$ i $G$.
\end{defn}

\begin{exmp}
I Figur \ref{parret_graf} ses en parret graf, med de to undergrupper ($v1,v2,v3$) og ($v3,v4$). 
På grafen ses det, at hvert kant forbinder en knude fra den ene undergruppe med en fra den anden, mens ingen kanter forbinder to knuder fra den samme undergruppe. 
Deruder ses det også, at der ikke er en kant fra alle knuder i en gruppe til alle knuder i den anden undergruppe.
Der er for eksempel ikke en kant mellem $v3$ og $v5$. 
Der behøver ikke være kanter fra alle knuder i den ene undergruppe til den anden for at grafen er parret.
Havde der været en kant mellem $v1$ og $v2$ havde grafen ikke været parret, da der ikke må være en kant mellem to knuder fra samme undergruppe.
\end{exmp}

\begin{figure}
\centering
\begin{tikzpicture}[every node/.style={draw,shape=circle,fill=blue!25}]
\path (-1.5,0) node (p0) {v1}
(-1.5,-1) node (p1) {v2}
(-1.5,-2) node (p2) {v3}
(1.5,-2) node (p3) {v4}
(1.5,-1) node (p4) {v5};
\draw 
(p0) -- (p3)
(p0) -- (p4)
(p1) -- (p3)
(p1) -- (p4)
(p2) -- (p3);
\end{tikzpicture}
\caption{Parret graf}
\label{parret_graf}
\end{figure}

\begin{thm}
En simpel graf er parret hvis og kun hvis, det er mulig at tildele hver knude en af to farver, således at hver kant ikke forbinder to knuder af samme farve. 
\label{farve_satning}
\end{thm}

\begin{proof}
Antag at $G=(V,E)$ er en parret simpel graf. Så er $V=V_1 \cup V_2$, hvor $V_1 \cap V_2 = Ø$ og hver kant i E forbinder en knude i $V_1$ med en knude i $V_2$. 
Tildeles en farve til alle knuder i $V_1$ og en anden farve til alle knuderne i $V_2$, så vil ingen kanter forbinde to knuder af samme farve. 
Gå så ud fra, at det er muligt at tildele farver til knuder, hvor der kun bruges to farver, hvor hvert knudepar består af to knuder af hver sin farve.
Når det gælder er $V_1 \cap V_2=Ø$ og $V=V_1 \cup V_2$.
Ydermere forbinder hver kant en knude i $V_1$ til en knude i $V_2$, da ingen naboknuder kan tilhøre samme undergruppe. 
\end{proof}

\begin{exmp}
I Figur \ref{farve_graf} ses en parret graf, hvor hver knude er tildelt en farve jævnfør sætning \ref{farve_satning}. 
Her ses det, hvordan hevr kant forbinder en rød knude med en blå knude, samt hvordan ingen kant forbinder to røde eller to blå knuder.

\begin{figure}[h]
\centering
\begin{tikzpicture}[every node/.style={draw,shape=circle,fill=blue!25}]
\path (-1.5,0) node (p0) [red]{v1}
(-1.5,-1) node (p1) [red]{v2}
(-1.5,-2) node (p2) [red]{v3}
(1.5,-2) node (p3) [blue]{v4}
(1.5,-1) node (p4) [blue]{v5}
(1.5,0) node (p5) [blue]{v6};
\draw 
(p0) -- (p3)
(p0) -- (p4)
(p1) -- (p3)
(p1) -- (p4)
(p2) -- (p3)
(p2) -- (p4)
(p5) -- (p0)
(p5) -- (p1)
(p5) -- (p2);
\end{tikzpicture}
\caption{Farveopdelt parret graf}
\label{farve_graf}
\end{figure}
\end{exmp}

En parret graf kan siges at være komplet. 
At en graf er komplet betyder, at hver knude fra en undergruppe er forbundet med alle knuder fra den anden undergruppe. 
En sådan graf betegnes $K_m,n$, hvor m er antallet af knuder i den ene undergruppe og n antallet i den anden undergruppe. 

\begin{exmp}
Grafen i Figur \ref{farve_graf} er også en komplet parret graf, fordi hver rød knude er forbundet med hver blå knude. 
Denne graf kaldes derfor $K_{3,3}$
\end{exmp}

Det ønskes nu at undersøge, hvornår der eksisterer en komplet parring mellem to undergrupper i en graf. 
I følgende sætning opsættes nogle nødvendige kriterier, der beskriver hvornår en komplet parring eksisterer. 

\begin{thm}[Bla]
\textbf{Ægteskabs Sætning}
Den parrede graf $G=(V,E)$ med undergrupperne ($V_1,V_2$) har en komplet parring fra ,$V_1$ til $V_2$.
\end{thm}
